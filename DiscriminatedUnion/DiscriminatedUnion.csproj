<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <TargetFramework>net10.0</TargetFramework>
        <ImplicitUsings>enable</ImplicitUsings>
        <Nullable>enable</Nullable>
        <WarningsAsErrors>nullable</WarningsAsErrors>
    </PropertyGroup>

<!--    <ItemGroup>-->
<!--        <InternalsVisibleTo Include="Tests"/>-->
<!--    </ItemGroup>-->

    <!-- Automatically check for null arguments when the parameter is annotated as non-nullable -->
    <ItemGroup>
      <PackageReference Include="RuntimeNullables.Fody" Version="2.1.0" PrivateAssets='All' />
    </ItemGroup>

    <PropertyGroup>
        <WeaverConfiguration>
            <Weavers>
                <RuntimeNullables CheckNonPublic="true" CheckOutputs="true" />
            </Weavers>
        </WeaverConfiguration>
    </PropertyGroup>

    <ItemGroup>
      <None Update="Templates\Du.Generated.tt">
        <Generator>TextTemplatingFileGenerator</Generator>
        <LastGenOutput>Du.Generated.cs</LastGenOutput>
      </None>
      <None Update="Templates\DuAttribute.Generated.tt">
        <Generator>TextTemplatingFileGenerator</Generator>
        <LastGenOutput>DuAttribute.Generated.cs</LastGenOutput>
      </None>
    </ItemGroup>
    <ItemGroup>
      <Compile Update="Templates\Du.Generated.cs">
        <AutoGen>True</AutoGen>
        <DesignTime>True</DesignTime>
        <DependentUpon>Du.Generated.tt</DependentUpon>
      </Compile>
      <Compile Update="Templates\DuAttribute.Generated.cs">
        <AutoGen>True</AutoGen>
        <DesignTime>True</DesignTime>
        <DependentUpon>DuAttribute.Generated.tt</DependentUpon>
      </Compile>
    </ItemGroup>

</Project>
